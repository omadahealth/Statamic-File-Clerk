/*! =========================================================
 * s3-files v0.0.1
 * A simple Amazon S3 add-on for Statamic
 * http://chadjclark.com
 * =========================================================
 * Copyright (c) 2014 Chad Clark
 *
 * This file built on 2014-01-30
 * ========================================================= */
!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),$(function(){var a={fileInput:$(".file-upload"),btnUpload:$(".btn-upload"),btnRemove:$(".btn-removal"),init:function(){this.bindUIActions()},bindUIActions:function(){this.fileInput.on("change",this.prepareUpload),this.btnUpload.on("click",this.uploadFiles),this.btnRemove.on("click",this.removeFileReference)},prepareUpload:function(a){var b=a.target.files;btnUpload=$(this).closest(".s3files").find(".btn-upload"),btnUpload.removeClass("is-hidden"),console.log(b)},uploadFiles:function(b){b.stopPropagation(),b.preventDefault();{var c=$(this).closest(".s3files").find(".file-upload");$(this).closest(".s3files").find(".postUrl").val(),new FormData(files)}a.resetFormElement(c),console.log("Uploading..."+c.attr("id"))},progressHandling:function(a){if(a.lengthComputable){var b=parseInt(a.loaded/a.total*100,10);console.log(b+"%"),$("progress").attr({value:a.loaded,max:a.total}),$(".prc").html(b+"%")}},resetFormElement:function(a){a.wrap("<form>").parent("form").trigger("reset"),a.unwrap()},removeFileReference:function(a){a.preventDefault()}};a.init()});